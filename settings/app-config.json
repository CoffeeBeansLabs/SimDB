{
  "indexer": {
    "default_dims": 100,
    "default_nn": 10,
    "indexer_name": "FAISS-IVF",
    "indexer_impl_conf": {
      "distance_metric": "L2",
      "cluster.max_size": 1000,
      "nprobe_ratio": 1
    },
    "retrain_frequency_sec": "20"
  },
  "connectors": {
    "reader": {
      "name": "kafka_reader",
      "type": "kafka",
      "connection": {
        "settings": {
          "bootstrap.servers": "localhost:9092",
          "enable.auto.commit": true,
          "group.id": "prod_faiss_dss_2408_0000001",
          "auto.offset.reset": "earliest"
        },
        "topic": "article-events",
        "polling_frequency": 0.5,
        "max_none_messages": 2
      },
      "fetch_trigger_frequency": 20,
      "stream": true
    },
    "writer": {
      "type": "redis",
      "name": "redis_writer",
      "mapper": "result",
      "key_format": "130916:articleSimsIndexer:{0}",
      "rank_field": "timestamp",
      "connection": {
        "mode": "standalone",
        "standalone": {
          "host": "localhost",
          "port": "6379"
        },
        "cluster": [
          {
            "host": "172.17.0.1",
            "port": "8005"
          }
        ]
      }
    }
  },
  "mappers": {
    "content_obj": {
        "name": "default_content_mapper",
      "standard_fields": {
        "map": {
          "id": "id",
          "vector": "article_vector",
          "content": "text",
          "title": "title"
        },
        "exclude": [
          "content"
        ]
      },
      "other_fields": {
        "select_fields": [
          "timestamp",
          "author"
        ],
        "exclude_fields": []
      }
    },
    "result": {
      "name": "result",
      "additional_fields": [
        "title",
        "seq_id",
        "author",
        "timestamp"
      ]
    }
  }
}
